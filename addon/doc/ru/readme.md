# instantTranslate #

* Авторы: Alexy Sadovoy, Beqa Gozalishvili, Mesar Hameed, Alberto Buffolino
  и другие участники сообщества NVDA.
* Загрузить [стабильную версию][1]
* Загрузить [разрабатываемую версию][2]

Это дополнение используется для перевода выделенного текста и/или текста в буфере обмена с одного языка на другой.  Для этого используется сервис Google Translate.

## Настройка языков ##
Чтобы настроить исходный, целевой и иногда  язык для перемены местами, перейдите: NVDA Меню >> Параметры >> Настройки Instant Translate.

Здесь два комбинированных списка, помеченные "исходный язык" и "Целевой
язык", и флажок для копирования перевода в буфер, если это необходимо.

Кроме того, если вы выбрали автоматическое определение языка (первый выбор)
в комбинированном списке "исходный язык", есть также комбинированный список
с названием "Язык для смены местами" и флажок автоматической перемены.

Смысл двух первых комбинированных списков и флажка для копирования понятен, но стоит сказать несколько слов об остальных. Всегда помните, что объяснения ниже предполагают, что исходный язык установлен на опцию автоматически определять язык.

Комбинированный список "Язык для замены" полезен, когда вы меняете местами исходный и целевой языки с помощью скрипта (см. ниже) исходный и целевой язык; на самом деле, целевой язык, установленный в опции  автоматически определять язык не имеет смысла, поэтому дополнение устанавливает его в значение предыдущего комбинированного списка.

Итак, представьте себе такую ситуацию: обычно вы переводите на английский (ваш основной язык), но иногда (например, когда вы пишете документ) вам нужно перевести на итальянский (предположим, ваш второй язык); вы можете выбрать итальянский в комбинированном списке   "Язык для замены", и тогда вы будете переводить с английского на итальянский, не обращаясь напрямую к настройкам дополнения. Очевидно, что эта функция имеет большую или меньшую полезность в зависимости от ваших частых потребностей.


Теперь о флажке автозамены: он появляется тогда и только тогда, когда вы установили опцию  автоматически определять язык в комбинированном списке "Исходный язык" и напрямую связан с комбинированным списком "Язык для замены". Если вы активируете его, то дополнение попытается автоматически переключиться с вашей конфигурации исходного и целевого языков на конфигурацию, в которой целевым становится язык источника, а язык выбранный в списке "Язык для замены", является новым целевым языком; Очень полезно, если исходным языком текста, который вы хотите перевести, является язык перевода.

Простой пример: вспомним ситуацию, представленную ранее; если вы переводите текст на язык, отличный от английского, то проблем нет, вы получаете правильный перевод на английском. Но если вам нужно перевести текст с английского, то обычно вы получаете перевод на английский, идентичный оригинальному тексту, а это немного бесполезно. Однако благодаря функции автозамены, если предположить, что вы хотите узнать, как звучит ваш текст на итальянском, дополнение автоматически переключает целевой язык на итальянский, поэтому возвращает корректный перевод.


В любом случае, это временная конфигурация; если эта опция не дает эффекта (она экспериментальная), попробуйте переключиться вручную на стабильную конфигурацию, используя жест для переключения, описанный ниже. Экспериментальная, потому что в некоторых ситуациях (как правило, с короткими текстами) Google не распознает настоящий исходный язык правильно, и вам приходится менять языки вручную с помощью скрипта, чтобы заставить исходный язык стал предыдущим целевым языком (в нашем примере - английским).

По крайней мере, в диалоге параметров настройки речи (Меню NVDA >> Параметры >> Речь) вы можете отметить опцию "Автоматическое переключение языков (если поддерживается)". Таким образом, если вы используете многоязычный синтезатор, перевод будет озвучиваться голосом целевого языка синтезатора.


## Использование ##
Вы можете использовать это дополнение тремя способами:

1. Выделите текст с помощью команд выделения (например, shift +клавиши-стрелки) и нажмите соответствующую клавишу для перевода. Результат перевода будет озвучен синтезатором, который вы используете.
2. Вы также можете перевести текст из буфера обмена.
3. Нажмите специальную клавишу, чтобы перевести последний произнесённый текст.


## Команды ##
Все следующие команды клавиш нужно нажимать после клавишного модификатора
"NVDA+Shift+t":

* T: Перевести выделенный текст,
* Shift+t: перевести текст из буфера обмена,
* S: поменять местами исходный и целевой языки,
* A: объявить текущую конфигурацию,
* I: определить язык выделенного текста,
* L: перевести последний произнесённый текст,
* O: открыть диалог настроек перевода
* H: объявить все доступные многоуровневые команды.
* C: скопировать последний результат в буфер обмена,

## Изменения в версии 4.4.3 ##
* Добавлена возможность замены подчёркиваний на пробелы, что может обеспечить лучшие результаты перевода в зависимости от контекста (спасибо Беке Гозалишвили)
* Добавлена совместимость с NVDA 2022.1

## Изменения в версии 4.4.2 ##
* Восстановлено определение языка и автозамена (спасибо Cyrille за исправление)
* Обновлены языки для перевода (спасибо Cyrille)

## Изменения в версии 4.4 ##
* Instant translate теперь совместим с NVDA 2019.3 и Python версии 3

## Изменения в версии 4.3 ##
* Исправление совместимости с nvda Теперь instant translate будет совместим с последними сборками nvda.
* Найден способ снова использовать google в качестве сервиса перевода.

## Изменения в версии 4.2 ##
* Восстановлено рабочее состояние с новыми версиями nvda.
* Восстановлено автоматическое определение языка.

## Изменения  в версии 4.1 ##
* InstantTranslate снова работает со службой переводчика Яндекс вместо
  Google.

## Изменения  в версии 4.0 ##
* Результат перевода теперь автоматически выполняется при смене языков
  местами.
* Исправлена ошибка кэша.

## Изменения  в версии 3.0 ##
* Изменён способ использования команд, теперь вам нужно нажать
  клавишу-модификатор instantTranslate "NVDA+Shift+t", а затем клавишу одной
  буквы, чтобы выполнить некоторые действия (смотрите все комбинации клавиш
  в разделе "Команды").
* Реализована перемена языков местами.
* Изменен формат конфигурации, теперь можно изменить настройки instant
  translate, находясь в области только для чтения, но помните, что это будет
  работать до первого перезапуска NVDA.
* Убраны ограничение объёма переводимого текста.
* Добавлена клавиша быстрого доступа t к  пункту меню настроек Instant
  Translate
* Опция автоопределения языка теперь находится только в списке выбора
  исходного языка, убрана из списка целевого.
* Добавлен флажок для настройки результата копирования перевода.
* Файл конфигурации хранится в корневой папке пользовательских настроек.
* Исходный и целевой языки синхронизированы с тем, что предоставляет Google
  Translate на текущий момент (22 Apr 2015).


## Изменения  в версии 2.1 ##
* Теперь дополнение переводит текст из буфера обмена при нажатии
  NVDA+Shift+Y.

## Изменения  в версии 2.0 ##
* Добавлен диалог для выбора исходного и целевого языков.
* Добавлен пункт меню дополнения, находящийся в меню параметров.
* Настройки теперь сохраняются в отдельный конфигурационный файл.
* Результат перевода теперь автоматически копируется в буфер обмена для
  последующих манипуляций.

## Изменения в версии 1.0 ##
* Начальная версия.


[[!tag dev stable]]

[1]: https://addons.nvda-project.org/files/get.php?file=instantTranslate

[2]: https://addons.nvda-project.org/files/get.php?file=it-dev
